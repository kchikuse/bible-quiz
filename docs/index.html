<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=author content="K Chikuse"><meta name=description content="Tough Bible Quiz"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-capable content=yes><meta name=theme-color content=#3a88cb><link href=manifest.json rel=manifest><link href=data:image/webp;base64,UklGRloBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSG8AAAABX6CmkRQ4fXdQfz0dLhBDRAR0H7PtJMGotm0lXwogFZg5FZgSgQQsItAA5l7AZi4v3v+XDBH9V9i2DTJmeMNgSZM7jPOYiMg2jLP61injUanELbdPweoej4I6vXRRvKThiIAOluAgvB/++fkP/uUAVlA4IMQAAABwAwCdASoQABAAAkA6JbACdGaA2wHPgWR4RFBXBLE2kTjKmQAA/uKIe6Bnp0ZYSZx+3vh4kHs/Jfde/64U+Rj9fkPcN3OsYT3Mjwv3XYSy0mc67oDrTf/VL190Aze1n6PXyUCj5qlkSztZTaJ3A2Gn+55Nvrq6tvIaiIqb7dzXzK71HiNjE2eIbJBsySfT9mILjKtLS50PZP4uNhvix0xv7AM2O0vnypmnF+7PHnctP3oUPi86nO8bva402oTEz9S0fAAA rel=icon><link href=data:image/webp;base64,UklGRloBAABXRUJQVlA4WAoAAAAQAAAADwAADwAAQUxQSG8AAAABX6CmkRQ4fXdQfz0dLhBDRAR0H7PtJMGotm0lXwogFZg5FZgSgQQsItAA5l7AZi4v3v+XDBH9V9i2DTJmeMNgSZM7jPOYiMg2jLP61injUanELbdPweoej4I6vXRRvKThiIAOluAgvB/++fkP/uUAVlA4IMQAAABwAwCdASoQABAAAkA6JbACdGaA2wHPgWR4RFBXBLE2kTjKmQAA/uKIe6Bnp0ZYSZx+3vh4kHs/Jfde/64U+Rj9fkPcN3OsYT3Mjwv3XYSy0mc67oDrTf/VL190Aze1n6PXyUCj5qlkSztZTaJ3A2Gn+55Nvrq6tvIaiIqb7dzXzK71HiNjE2eIbJBsySfT9mILjKtLS50PZP4uNhvix0xv7AM2O0vnypmnF+7PHnctP3oUPi86nO8bva402oTEz9S0fAAA rel=apple-touch-icon><style>@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes spin{to{transform:rotate(360deg)}}:root{--text-color: #e0dada;--red-color: #ef5350;--green-color: #43A047;--btn-bg-color: #0579b9;--brick-color: #8b4f39;--brick-texture: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="42" height="44" viewBox="0 0 42 44"><g  fill="none" fill-rule="evenodd"><g fill="%239C92AC" fill-opacity="0.4"><path d="M0 0h42v44H0V0zm1 1h40v20H1V1zM0 23h20v20H0V23zm22 0h20v20H22V23z"/></g></g></svg>')}*,:after,:before{box-sizing:border-box}*{-webkit-tap-highlight-color:transparent;overflow:hidden;padding:0;margin:0}[cloak]{display:none!important}body,game-over{place-items:center}body{display:grid;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;background-color:var(--brick-color);background-image:var(--brick-texture);background-repeat:repeat;-webkit-touch-callout:none;overscroll-behavior:none;color:var(--text-color);user-select:none;height:100vh;width:100vw}game-over,main{display:grid;grid-template-rows:40vh 53vh;grid-template-columns:100%;padding:12px;width:100%;height:100%}game-over{grid-template-rows:20vh 30vh 20vh 20vh}main footer,main footer button,main header{display:flex;align-items:center;justify-content:center;flex-direction:column}main footer{justify-content:space-evenly}main header{box-shadow:-1px 2px 2px 0 #555,inset 0 0 10px 0 #555;background-color:#497959;border:#b78240 solid 10px;border-radius:10px;padding:20px 30px;overflow-y:auto;height:100%}game-over stars,main content{font-size:21px;display:flex;align-items:center}main content{line-height:40px;text-align:center;height:100%;color:#c9e7f3}game-over button,main footer button,on-error button{background-color:var(--btn-bg-color);color:#fff;outline:0;border:0;height:60px}main footer button{text-transform:uppercase;will-change:transform;cursor:pointer;transition:none;font-weight:500;box-shadow:0 8px 6px -6px #242323;font-size:15px;width:100%}game-over button:active,main footer button:active{transform:translateY(3px)}main footer button[data-correct=true]{background-color:var(--green-color)}main footer button[data-correct=false]{background-color:var(--red-color)}loader,on-error{height:100vh;z-index:2}loader{display:block;background:inherit;overflow:hidden;width:100vw}loader::after,on-error:after{border-width:9px;border-style:solid;border-radius:50%;position:absolute;margin:auto;bottom:0;left:0;right:0;top:0}loader::after{will-change:transform;animation:spin 1.1s infinite linear;border-color:rgba(255,255,255,.3);border-top-color:#fff;content:"";height:100px;width:100px}on-error:after{content:"\00D7";font-size:70px;background-color:var(--red-color);border-color:#fff176;color:#fff176;display:flex;justify-content:center;height:109px;width:109px}game-over[data-win=true]{background-image:radial-gradient(#fff,rgba(255,255,255,.2) 2px,transparent 40px),radial-gradient(#fff,rgba(255,255,255,.15) 1px,transparent 30px),radial-gradient(#fff,rgba(255,255,255,.1) 2px,transparent 40px),radial-gradient(rgba(255,255,255,.4),rgba(255,255,255,.1) 2px,transparent 30px);background-size:550px 550px,350px 350px,250px 250px,150px 150px;background-position:0 0,40px 60px,130px 270px,70px 100px;background-repeat:repeat}game-over score-text{font-weight:400;font-size:2em}game-over score{font-weight:200;font-size:4em;color:#fff}game-over button,on-error button{box-shadow:0 8px 6px -6px #000;font-size:19px;width:85%;z-index:1}game-over button[share],on-error button{background-color:#e65100}game-over button[disabled]{color:#e6dada}game-over label{display:none;color:var(--red-color);text-align:center;font-size:26px;z-index:99}game-over stars{color:#f9a825;justify-content:space-evenly;width:15vw}game-over stars:before{content:"\2605"}on-error{display:grid;grid-template-columns:100vw;place-items:center;will-change:opacity;animation:fadeIn .4s both;font-size:26px;font-weight:600}@media screen and (orientation:landscape){main{grid-gap:10px;grid-template-rows:90vh;grid-template-columns:45vw 50vw;justify-content:space-around}game-over button,on-error button{width:50%}}@media only screen and (min-device-width:768px) and (max-device-width:1024px) and (-webkit-min-device-pixel-ratio:1){main content{line-height:70px}game-over button,main footer button{height:90px;font-size:30px}game-over stars,main content{font-size:50px}}</style><title>Tough Bible Quiz</title></head><body oncontextmenu="return false"><loader></loader><on-error cloak><span>There was a network error</span> <button>TRY AGAIN</button></on-error><main><header><content></content></header><footer><button></button> <button></button> <button></button></footer></main><game-over cloak><score-text></score-text><score></score><button replay>PLAY AGAIN</button> <button share cloak>SHARE</button><stars cloak></stars></game-over><script>class Game{constructor(){this._q={},this._over=!1,this._counter=0,this._index=0,this._seed=0,this._wins=0,this._qs=[]}set seed(t){this._seed=t}set index(t){this._index=t}set counter(t){this._counter=t}set over(t){this._over=t}set qs(t){this._qs=t}set wins(t){this._wins=t}get seed(){return this._seed}get index(){return+this._index}get counter(){return this._counter}get over(){return this._over}get wins(){return this._wins}get q(){return this._qs[this._counter]}get total(){return this._qs.length}get score(){return this._qs.filter(t=>t.correct).length}addWin(){const t=this.score==this.total;return t&&this._wins++,t}answer(t,e){const s=this._qs.find(e=>e.id==t),i=s.answers.find(t=>t.correct).id==e;return s.correct=i,i}next(){this._counter++;const t=this._qs.length;this._over=this._counter>=t}reset(){this._q={},this._qs=[],this._counter=0,this._over=!1,this._index++}toJSON(){return{counter:this._counter,index:this._index,seed:this._seed,over:this._over,wins:this._wins}}}</script><script>const LOADER=$("loader"),GAME_SCREEN=$("main"),QUESTION=$("main content"),ERROR_SCREEN=$("on-error"),ERROR_BUTTON=$("on-error button"),GAMEOVER_SCREEN=$("game-over"),GAMEOVER_SCORE=$("game-over score"),GAMEOVER_STARS=$("game-over stars"),SHARE_BUTTON=$("game-over button[share]"),REPLAY_BUTTON=$("game-over button[replay]"),GAMEOVER_TEXT=$("game-over score-text"),ABOUTUS_BUTTON=$("main header button"),BUTTONS=document.querySelectorAll("main footer button"),CACHE="game-state",game=new Game;function play(){game.over&&game.reset(),download().then(e=>{game.seed=e.seed,game.index=e.index,game.qs=e.questions,saveGame(),draw()}).catch(()=>{hide(LOADER),show(ERROR_SCREEN)})}function gameover(){const e=game.addWin();saveGame(),hide(GAME_SCREEN),show(GAMEOVER_SCREEN),GAMEOVER_SCREEN.dataset.win=e,GAMEOVER_TEXT.textContent=`YOU ${e?"WIN":"LOSE"}`,GAMEOVER_SCORE.textContent=`${game.score} / ${game.total}`,game.wins&&(show(GAMEOVER_STARS).textContent=game.wins)}async function download(){loading(!0);const e=await fetch(`https://q.chikuse.co.za/apiv2/questions?seed=${game.seed}&index=${game.index}`);if(loading(!1),e.ok)return e.json();throw e}function replay(){show(GAME_SCREEN),hide(ERROR_SCREEN),hide(GAMEOVER_SCREEN),delete GAMEOVER_SCREEN.dataset.win,play()}function draw(){const e=game.q;QUESTION.textContent=e.text,e.answers.forEach((t,n)=>{BUTTONS[n].disabled=!1,BUTTONS[n].dataset.q=e.id,BUTTONS[n].dataset.answer=t.id,BUTTONS[n].textContent=t.text,delete BUTTONS[n].dataset.correct})}function select(){const e=this.dataset;e.correct=game.answer(e.q,e.answer),BUTTONS.forEach(e=>e.disabled=!0),animate(()=>{if(game.next(),game.over)return gameover();draw()})}function onclick(){ERROR_BUTTON.onclick=replay,REPLAY_BUTTON.onclick=replay,BUTTONS.forEach(e=>{e.onclick=select}),navigator.share&&(show(SHARE_BUTTON).onclick=async()=>{await navigator.share({title:"Tough Bible Quiz",text:"Challenge yourself with our super tough Bible quiz",url:"https://q.chikuse.co.za"})})}function saveGame(){localStorage.setItem(CACHE,JSON.stringify(game))}function loadGame(){const e=localStorage.getItem(CACHE);if(e){const t=JSON.parse(e);Object.assign(game,t)}}function show(e){return e.removeAttribute("cloak"),e}function hide(e){return e.setAttribute("cloak",""),e}function loading(e){e?show(LOADER):hide(LOADER)}function online(){navigator.onLine?(REPLAY_BUTTON.disabled=!1,REPLAY_BUTTON.textContent="PLAY AGAIN"):(REPLAY_BUTTON.disabled=!0,REPLAY_BUTTON.textContent="GO ONLINE TO PLAY")}function animate(e){requestAnimationFrame(()=>{setTimeout(()=>{e.apply(this)},500)})}function $(e){return document.querySelector(e)}addEventListener("online",online),addEventListener("offline",online),addEventListener("beforeunload",saveGame),addEventListener("DOMContentLoaded",onclick),addEventListener("load",async()=>{loadGame(),play(),await navigator.serviceWorker.register("sw.js")});</script><noscript>Please enable JavaScript</noscript></body></html>